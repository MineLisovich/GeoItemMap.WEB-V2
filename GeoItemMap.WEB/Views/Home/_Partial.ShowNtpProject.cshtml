@model GeoItemsViewModel
@{
    var item = Model.NtpProject.First();
}

<div class="window-header">
    <div class="window-header_wrapper">
        <h1 class="icon parks-actual-big" title="@item.ParentImplemOrg" data-bs-toggle="tooltip" data-bs-placement="right">
            @item.ParentImplemOrg
        </h1> 
    </div>
</div>

<!-- close-window -->
<div class="close-window" title="Закрыть">×</div>

<div class="window-body">
    <div class="window-side-button"></div>
    <!-- burger-btn -->
    <!-- window-images -->
    <div class="window-images">
        <div class="col-img">
            <img src="../../img/grsu_myuniver.jpg" style="width:100%" onclick="openModal();currentSlide(1)"
                 class="hover-shadow cursor">
        </div>
        <div class="col-img">
            <img src="../../img/foto-grgu.jpg" style="width:100%" onclick="openModal();currentSlide(2)"
                 class="hover-shadow cursor">
        </div>
        <div class="col-img">
            <img src="../../img/grsu_myuniver.jpg" style="width:100%" onclick="openModal();currentSlide(3)"
                 class="hover-shadow cursor">
        </div>
        <div class="col-img">
            <img src="../../img/grgu-grgu.jpg" style="width:100%" onclick="openModal();currentSlide(4)"
                 class="hover-shadow cursor">
        </div>
        <div class="col-img">
            <img src="../../img/grsu_myuniver.jpg" style="width:100%" onclick="openModal();currentSlide(5)"
                 class="hover-shadow cursor">
        </div>
        <div class="col-img">
            <img src="../../img/art_420_orig.jpg" style="width:100%" onclick="openModal();currentSlide(6)"
                 class="hover-shadow cursor">
        </div>
    </div>
    <!-- end window-images -->
    <!-- modal-gallery -->
    <div id="modal-gallery" class="modal-gallery">
        <span class="close cursor" onclick="closeModal()">&times;</span>
        <div id="carouselExampleFade" class="carousel slide carousel-fade">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="../../img/grsu_myuniver.jpg" style="width:100%">
                </div>
                <div class="carousel-item">
                    <img src="../../img/foto-grgu.jpg" style="width:100%">
                </div>
                <div class="carousel-item">
                    <img src="../../img/grsu_myuniver.jpg" style="width:100%">
                </div>
                <div class="carousel-item">
                    <img src="../../img/grgu-grgu.jpg" style="width:100%">
                </div>
                <div class="carousel-item">
                    <img src="../../img/grsu_myuniver.jpg" style="width:100%">
                </div>
                <div class="carousel-item">
                    <img src="../../img/art_420_orig.jpg" style="width:100%">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Предыдущий</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Следующий</span>
            </button>
        </div>
    </div>
    <!-- end modal-gallery -->
    <!-- data table -->
    <div>
        <table class="window-object-data">
            <tbody>
                <tr>
                    <td class="object-field-name header first_level" colspan="2">
                        <h2 id="windh0">Общая информация</h2>
                        <div style="display:block; padding-bottom:10px; padding-left:20px; cursor:default;">
                            <table class="window-object-data">
                                <tbody>
                                    <tr>
                                        <td class="object-field-name  ">
                                            Наименование выполняемого задания
                                        </td>
                                        <td class="object-field-value">
                                            @item.NameTask
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="object-field-name  ">
                                            Государственный заказчик (ответственный заказчик)
                                        </td>
                                        <td class="object-field-value">
                                            @item.StateCustomer
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="object-field-name">Головная организация-исполнитель</td>
                                        <td class="object-field-value">@item.ParentImplemOrg</td>
                                    </tr>

                                    <tr>
                                        <td class="object-field-name  ">Организации-исполнители НИОК(Т)Р</td>
                                        <td class="object-field-value"> @item.ImplemOrg</td>
                                    </tr>
                                    <tr>
                                        <td class="object-field-name  ">Региональная принадлежность</td>
                                        <td class="object-field-value"> @item.AdressImplemOrg</td>
                                    </tr>
                                    <tr>
                                        <td class="object-field-name  ">Информация о стадии выполнения задания программы</td>
                                        <td class="object-field-value"> @item.StateTask</td>
                                    </tr>
                                    <tr>
                                        <td class="object-field-name  ">Уровень технического уклада разработки по заданию</td>
                                        <td class="object-field-value"> @item.TheLevelStructure</td>
                                    </tr>
                                    <tr>
                                        <td class="object-field-name  ">Наименование вновь освоенной продукции (инновации)</td>
                                        <td class="object-field-value"> @item.NameNewDevProducts</td>
                                    </tr>
                                    <tr>
                                        <td class="object-field-name  ">Информация о наличии экспорта по заданию (имеется или не имеется)</td>
                                        <td class="object-field-value"> @item.InformationExports</td>
                                    </tr>
                                    <tr>
                                        <td class="object-field-name  ">Информация о создании новых производств, модернизации действующих производств</td>
                                        <td class="object-field-value"> @item.InformationNewProduct</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </td>
                </tr>
                <tr></tr>
            </tbody>
        </table>
        <div style="height: 122px;">&nbsp;</div>
    </div>
    <!-- end data table -->
</div>
<div class="window-side-button"></div>
<div class="window-footer noselect d-flex justify-content-between">
    <div class="window-footer-left">
        <a href="#" class="icon-wf city" title="Города"></a>
        <a target="_blank" href="#" role="pdf-button" class="icon-wf file no-label" title="PDF"></a>
    </div>
</div>
<!-- footer window -->
<div class="footer-window"></div>
<!-- end footer window -->
<!-- window-child -->
<div class="window-child">
    <div class="window-child-container">
        <div class="overview" style="top: 0px; left: 0px; bottom: 10px; display: block;">
            <ol>
                <li data-link="windh0">
                    <div class="active-li">Общая информация</div>
                </li>
                <li data-link="windh1">
                    <div>?????</div>
                </li>
            </ol>
        </div>

    </div>
    <div class="window-side-button_left"></div>

</div>
<!--end window-child -->

<script>
    var listItems = document.querySelectorAll("ol li[data-link], ol li ol li[data-link]");
    listItems.forEach(function (listItem) {
        var linkValue = listItem.getAttribute("data-link");
        var targetElement = document.getElementById(linkValue);
        if (targetElement) {
            listItem.addEventListener("click", function (e) {
                e.stopPropagation(); // останавливаю всплытие события
                targetElement.scrollIntoView({
                    behavior: "smooth"
                });
            });
        }
    });


    //active element on click li
    document.querySelectorAll("ol li > div").forEach(div => {
        div.addEventListener("click", function (e) {
            document.querySelectorAll(".active-li").forEach(active => {
                active.classList.remove("active-li");
            });
            this.classList.add("active-li");
        });
    });
</script>